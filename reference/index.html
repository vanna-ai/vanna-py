
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../workflow/">
      
      
        <link rel="next" href="../support/">
      
      <link rel="icon" href="https://vanna.ai/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Code Reference - Vanna.AI Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-1YZ053XQJ4"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-1YZ053XQJ4",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-1YZ053XQJ4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#vanna-package-full-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://vanna.ai" title="Vanna.AI Documentation" class="md-header__button md-logo" aria-label="Vanna.AI Documentation" data-md-component="logo">
      
  <img src="https://ask.vanna.ai/static/img/vanna.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vanna.AI Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Code Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/vanna-ai/vanna-py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://vanna.ai" title="Vanna.AI Documentation" class="md-nav__button md-logo" aria-label="Vanna.AI Documentation" data-md-component="logo">
      
  <img src="https://ask.vanna.ai/static/img/vanna.svg" alt="logo">

    </a>
    Vanna.AI Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/vanna-ai/vanna-py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        What is Vanna.AI?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../streamlit/" class="md-nav__link">
        Use with Streamlit
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../jupyter/" class="md-nav__link">
        Use in Notebooks
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/" class="md-nav__link">
        Onboarding
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Code to Get Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../workflow/" class="md-nav__link">
        Adding Vanna to your Workflow
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Code Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Code Reference
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vanna" class="md-nav__link">
    vanna
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna--what-is-vannaai" class="md-nav__link">
    What is Vanna.AI?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna--api-reference" class="md-nav__link">
    API Reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.ask" class="md-nav__link">
    ask()
  </a>
  
    <nav class="md-nav" aria-label="ask()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.ask--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.create_org" class="md-nav__link">
    create_org()
  </a>
  
    <nav class="md-nav" aria-label="create_org()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.create_org--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.flag_sql_for_review" class="md-nav__link">
    flag_sql_for_review()
  </a>
  
    <nav class="md-nav" aria-label="flag_sql_for_review()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.flag_sql_for_review--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.generate_explanation" class="md-nav__link">
    generate_explanation()
  </a>
  
    <nav class="md-nav" aria-label="generate_explanation()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.generate_explanation--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.generate_plotly_code" class="md-nav__link">
    generate_plotly_code()
  </a>
  
    <nav class="md-nav" aria-label="generate_plotly_code()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.generate_plotly_code--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.generate_question" class="md-nav__link">
    generate_question()
  </a>
  
    <nav class="md-nav" aria-label="generate_question()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.generate_question--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.generate_sql" class="md-nav__link">
    generate_sql()
  </a>
  
    <nav class="md-nav" aria-label="generate_sql()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.generate_sql--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.get_accuracy_stats" class="md-nav__link">
    get_accuracy_stats()
  </a>
  
    <nav class="md-nav" aria-label="get_accuracy_stats()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.get_accuracy_stats--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.get_flagged_questions" class="md-nav__link">
    get_flagged_questions()
  </a>
  
    <nav class="md-nav" aria-label="get_flagged_questions()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.get_flagged_questions--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.get_plotly_figure" class="md-nav__link">
    get_plotly_figure()
  </a>
  
    <nav class="md-nav" aria-label="get_plotly_figure()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.get_plotly_figure--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.get_results" class="md-nav__link">
    get_results()
  </a>
  
    <nav class="md-nav" aria-label="get_results()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.get_results--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.list_orgs" class="md-nav__link">
    list_orgs()
  </a>
  
    <nav class="md-nav" aria-label="list_orgs()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.list_orgs--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.login" class="md-nav__link">
    login()
  </a>
  
    <nav class="md-nav" aria-label="login()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.login--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.remove_sql" class="md-nav__link">
    remove_sql()
  </a>
  
    <nav class="md-nav" aria-label="remove_sql()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.remove_sql--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.set_org" class="md-nav__link">
    set_org()
  </a>
  
    <nav class="md-nav" aria-label="set_org()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.set_org--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.store_sql" class="md-nav__link">
    store_sql()
  </a>
  
    <nav class="md-nav" aria-label="store_sql()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.store_sql--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.train" class="md-nav__link">
    train()
  </a>
  
    <nav class="md-nav" aria-label="train()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.train--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../support/" class="md-nav__link">
        Support
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vanna" class="md-nav__link">
    vanna
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna--what-is-vannaai" class="md-nav__link">
    What is Vanna.AI?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna--api-reference" class="md-nav__link">
    API Reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.ask" class="md-nav__link">
    ask()
  </a>
  
    <nav class="md-nav" aria-label="ask()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.ask--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.create_org" class="md-nav__link">
    create_org()
  </a>
  
    <nav class="md-nav" aria-label="create_org()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.create_org--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.flag_sql_for_review" class="md-nav__link">
    flag_sql_for_review()
  </a>
  
    <nav class="md-nav" aria-label="flag_sql_for_review()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.flag_sql_for_review--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.generate_explanation" class="md-nav__link">
    generate_explanation()
  </a>
  
    <nav class="md-nav" aria-label="generate_explanation()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.generate_explanation--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.generate_plotly_code" class="md-nav__link">
    generate_plotly_code()
  </a>
  
    <nav class="md-nav" aria-label="generate_plotly_code()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.generate_plotly_code--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.generate_question" class="md-nav__link">
    generate_question()
  </a>
  
    <nav class="md-nav" aria-label="generate_question()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.generate_question--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.generate_sql" class="md-nav__link">
    generate_sql()
  </a>
  
    <nav class="md-nav" aria-label="generate_sql()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.generate_sql--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.get_accuracy_stats" class="md-nav__link">
    get_accuracy_stats()
  </a>
  
    <nav class="md-nav" aria-label="get_accuracy_stats()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.get_accuracy_stats--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.get_flagged_questions" class="md-nav__link">
    get_flagged_questions()
  </a>
  
    <nav class="md-nav" aria-label="get_flagged_questions()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.get_flagged_questions--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.get_plotly_figure" class="md-nav__link">
    get_plotly_figure()
  </a>
  
    <nav class="md-nav" aria-label="get_plotly_figure()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.get_plotly_figure--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.get_results" class="md-nav__link">
    get_results()
  </a>
  
    <nav class="md-nav" aria-label="get_results()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.get_results--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.list_orgs" class="md-nav__link">
    list_orgs()
  </a>
  
    <nav class="md-nav" aria-label="list_orgs()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.list_orgs--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.login" class="md-nav__link">
    login()
  </a>
  
    <nav class="md-nav" aria-label="login()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.login--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.remove_sql" class="md-nav__link">
    remove_sql()
  </a>
  
    <nav class="md-nav" aria-label="remove_sql()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.remove_sql--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.set_org" class="md-nav__link">
    set_org()
  </a>
  
    <nav class="md-nav" aria-label="set_org()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.set_org--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.store_sql" class="md-nav__link">
    store_sql()
  </a>
  
    <nav class="md-nav" aria-label="store_sql()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.store_sql--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vanna.train" class="md-nav__link">
    train()
  </a>
  
    <nav class="md-nav" aria-label="train()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vanna.train--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="vanna-package-full-reference">Vanna Package Full Reference</h1>


<div class="doc doc-object doc-module">


<a id="vanna"></a>
  <div class="doc doc-contents first">
  
      <h2 id="vanna--what-is-vannaai">What is Vanna.AI?</h2>
<p>Vanna.AI is a platform that allows you to ask questions about your data in plain English. It is an AI-powered data analyst that can answer questions about your data, generate SQL, and create visualizations.</p>
<h2 id="vanna--api-reference">API Reference</h2>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h2 id="vanna.ask" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ask</span><span class="p">(</span><span class="n">question</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.ask--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="n">question</span><span class="o">=</span><span class="s2">&quot;What is the average salary of employees?&quot;</span><span class="p">)</span>
<span class="c1"># SELECT AVG(salary) FROM employees</span>
</code></pre></div>
<p>Ask a question using the Vanna.AI API. This is equivalent to calling <a class="autorefs autorefs-internal" href="#vanna.generate_sql"><code>generate_sql()</code></a>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>question</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The question to ask.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>str or None: The SQL query, or None if an error occurred.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.create_org" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_org</span><span class="p">(</span><span class="n">org</span><span class="p">,</span> <span class="n">db_type</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.create_org--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">create_org</span><span class="p">(</span><span class="n">org</span><span class="o">=</span><span class="s2">&quot;my-org&quot;</span><span class="p">,</span> <span class="n">db_type</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Create a new organization.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>org</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the organization to create.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>db_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of database to use for the organization. This can be "Snowflake", "BigQuery", "Postgres", or anything else.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the organization was created successfully, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.flag_sql_for_review" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flag_sql_for_review</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">sql</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">error_msg</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.flag_sql_for_review--example">Example</h4>
<p><div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">flag_sql_for_review</span><span class="p">(</span><span class="n">question</span><span class="o">=</span><span class="s2">&quot;What is the average salary of employees?&quot;</span><span class="p">)</span>
</code></pre></div>
Flag a question and its corresponding SQL query for review. You can later retrieve the flagged questions using <a class="autorefs autorefs-internal" href="#vanna.get_flagged_questions"><code>get_flagged_questions()</code></a>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>question</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The question to flag.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sql</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQL query to flag.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>error_msg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The error message to flag.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the question and SQL query were flagged successfully, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.generate_explanation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_explanation</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.generate_explanation--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">generate_explanation</span><span class="p">(</span><span class="n">sql</span><span class="o">=</span><span class="s2">&quot;SELECT * FROM students WHERE name = &#39;John Doe&#39;&quot;</span><span class="p">)</span>
<span class="c1"># &#39;This query selects all columns from the students table where the name is John Doe.&#39;</span>
</code></pre></div>
<p>Generate an explanation of an SQL query using the Vanna.AI API.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sql</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQL query to generate an explanation for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>str or None: The explanation, or None if an error occurred.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.generate_plotly_code" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_plotly_code</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">sql</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.generate_plotly_code--example">Example</h4>
<p><div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">generate_plotly_code</span><span class="p">(</span>
    <span class="n">question</span><span class="o">=</span><span class="s2">&quot;What is the average salary of employees?&quot;</span><span class="p">,</span>
    <span class="n">sql</span><span class="o">=</span><span class="s2">&quot;SELECT AVG(salary) FROM employees&quot;</span><span class="p">,</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span>
<span class="p">)</span>
<span class="c1"># fig = px.bar(df, x=&quot;name&quot;, y=&quot;salary&quot;)</span>
</code></pre></div>
Generate Plotly code using the Vanna.AI API.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>question</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The question to generate Plotly code for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sql</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQL query to generate Plotly code for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>df</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The dataframe to generate Plotly code for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>str or None: The Plotly code, or None if an error occurred.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.generate_question" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_question</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.generate_question--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">generate_question</span><span class="p">(</span><span class="n">sql</span><span class="o">=</span><span class="s2">&quot;SELECT * FROM students WHERE name = &#39;John Doe&#39;&quot;</span><span class="p">)</span>
<span class="c1"># &#39;What is the name of the student?&#39;</span>
</code></pre></div>
<p>Generate a question from an SQL query using the Vanna.AI API.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sql</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQL query to generate a question for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>str or None: The question, or None if an error occurred.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.generate_sql" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_sql</span><span class="p">(</span><span class="n">question</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.generate_sql--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">generate_sql</span><span class="p">(</span><span class="n">question</span><span class="o">=</span><span class="s2">&quot;What is the average salary of employees?&quot;</span><span class="p">)</span>
<span class="c1"># SELECT AVG(salary) FROM employees</span>
</code></pre></div>
<p>Generate an SQL query using the Vanna.AI API.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>question</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The question to generate an SQL query for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>str or None: The SQL query, or None if an error occurred.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.get_accuracy_stats" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_accuracy_stats</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.get_accuracy_stats--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">get_accuracy_stats</span><span class="p">()</span>
</code></pre></div>
<p>Get the accuracy statistics from the Vanna.AI API.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="vanna.types.AccuracyStats">AccuracyStats</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>dict or None: The accuracy statistics, or None if an error occurred.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.get_flagged_questions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_flagged_questions</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.get_flagged_questions--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">questions</span> <span class="o">=</span> <span class="n">vn</span><span class="o">.</span><span class="n">get_flagged_questions</span><span class="p">()</span>
</code></pre></div>
<p>Get a list of flagged questions from the Vanna.AI API.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="vanna.types.QuestionList">QuestionList</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List[FullQuestionDocument] or None: The list of flagged questions, or None if an error occurred.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.get_plotly_figure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_plotly_figure</span><span class="p">(</span><span class="n">plotly_code</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">dark_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.get_plotly_figure--example">Example</h4>
<p><div class="highlight"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">vn</span><span class="o">.</span><span class="n">get_plotly_figure</span><span class="p">(</span>
    <span class="n">plotly_code</span><span class="o">=</span><span class="s2">&quot;fig = px.bar(df, x=&#39;name&#39;, y=&#39;salary&#39;)&quot;</span><span class="p">,</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
Get a Plotly figure from a dataframe and Plotly code.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>df</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The dataframe to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>plotly_code</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The Plotly code to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>plotly.<span title="plotly.graph_objs">graph_objs</span>.<span title="plotly.graph_objs.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>plotly.graph_objs.Figure: The Plotly figure.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.get_results" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_results</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span> <span class="n">default_database</span><span class="p">,</span> <span class="n">sql</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.get_results--example">Example</h4>
<p><div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">vn</span><span class="o">.</span><span class="n">get_results</span><span class="p">(</span><span class="n">cs</span><span class="o">=</span><span class="n">cs</span><span class="p">,</span> <span class="n">default_database</span><span class="o">=</span><span class="s2">&quot;PUBLIC&quot;</span><span class="p">,</span> <span class="n">sql</span><span class="o">=</span><span class="s2">&quot;SELECT * FROM students&quot;</span><span class="p">)</span>
</code></pre></div>
Run the SQL query and return the results as a pandas dataframe. This is just a helper function that does not use the Vanna.AI API.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cs</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Snowflake connection cursor.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>default_database</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The default database to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sql</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQL query to execute.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>pd.DataFrame: The results of the SQL query.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.list_orgs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_orgs</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.list_orgs--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">orgs</span> <span class="o">=</span> <span class="n">vn</span><span class="o">.</span><span class="n">list_orgs</span><span class="p">()</span>
</code></pre></div>
<p>List the organizations that the user is a member of.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List[str]: A list of organization names.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.login" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">otp_code</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.login--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;username@example.com&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Login to the Vanna.AI API.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>email</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The email address to login with.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>otp_code</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The OTP code to login with. If None, an OTP code will be sent to the email address.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the login was successful, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.remove_sql" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_sql</span><span class="p">(</span><span class="n">question</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.remove_sql--example">Example</h4>
<p><div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">remove_sql</span><span class="p">(</span><span class="n">question</span><span class="o">=</span><span class="s2">&quot;What is the average salary of employees?&quot;</span><span class="p">)</span>
</code></pre></div>
Remove a question and its corresponding SQL query from the Vanna.AI database.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>question</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The question to remove.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.set_org" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_org</span><span class="p">(</span><span class="n">org</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.set_org--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">set_org</span><span class="p">(</span><span class="s2">&quot;my-org&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Set the organization name for the Vanna.AI API.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>org</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The organization name.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.store_sql" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_sql</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">sql</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.store_sql--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">store_sql</span><span class="p">(</span>
    <span class="n">question</span><span class="o">=</span><span class="s2">&quot;What is the average salary of employees?&quot;</span><span class="p">,</span> 
    <span class="n">sql</span><span class="o">=</span><span class="s2">&quot;SELECT AVG(salary) FROM employees&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p>Store a question and its corresponding SQL query in the Vanna.AI database.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>question</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The question to store.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sql</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQL query to store.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="vanna.train" class="doc doc-heading">
<code class="highlight language-python"><span class="n">train</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">sql</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <h4 id="vanna.train--example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="n">vn</span><span class="o">.</span><span class="n">train</span><span class="p">(</span>
    <span class="n">question</span><span class="o">=</span><span class="s2">&quot;What is the average salary of employees?&quot;</span><span class="p">,</span> 
    <span class="n">sql</span><span class="o">=</span><span class="s2">&quot;SELECT AVG(salary) FROM employees&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p>Train Vanna.AI on a question and its corresponding SQL query. This is equivalent to calling <a class="autorefs autorefs-internal" href="#vanna.store_sql"><code>store_sql()</code></a>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>question</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The question to train on.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sql</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQL query to train on.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Vanna.AI – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  


  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" >
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>